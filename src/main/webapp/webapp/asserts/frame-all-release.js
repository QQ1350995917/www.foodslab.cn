/*! foodslab-back-end 2016-10-21 */
"use strict";function asyncRequestByGet(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&b(e.responseText)},e.timeout=5e3,e.ontimeout=d,e.open("GET",a,!0),e.send(null)}function asyncRequestByPost(a,b,c,d,e){var f=new XMLHttpRequest;f.onreadystatechange=function(){4==f.readyState&&200==f.status?b(f.responseText):c()},f.timeout=5e3,f.ontimeout=d,f.open("POST",a,!0),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(encodeURI(e))}function onErrorCallback(){}function onTimeoutCallback(){}function checkResponseDataFormat(a){return!0}function isNullValue(a){return void 0==a||null==a||""==a}function onFrameLoad(){var a=document.getElementById(ID_FRAME_HEADER_ICON);a.style.cursor="pointer",a.onclick=function(){location.reload()};var b=new Object;b.cs=getCookie(KEY_CS),b.category=1,requestMenus(b,function(a){FRAME_MENUS=FRAME_MENUS.concat(a),document.getElementById(ID_FRAME_HEADER_MENU).appendChild(createHorizontalTabHostDiv("mTop",a,"horizontalIndexSelect","horizontalIndexNormal",function(a){onFrameMenuItemClick(a.flag),resetFrameVerticalTabHost("mLeft")},-1))});var c=new Object;c.category=2,requestMenus(c,function(a){FRAME_MENUS=FRAME_MENUS.concat(a),document.getElementById(ID_FRAME_LEFT_MENU).appendChild(createFrameVerticalTabHostDiv("mLeft",a,function(a){onFrameMenuItemClick(a.flag),resetTabHost("mTop","horizontalIndexNormal")},-1))});var d=document.getElementById(ID_FRAME_HEADER_MANAGER);d.onclick=function(){};var e=document.getElementById(ID_FRAME_HEADER_EXIT);e.onclick=function(){},requestMeta()}function requestMenus(a,b){var c=BASE_PATH+"/menu/MRetrieves?p="+JSON.stringify(a);asyncRequestByGet(c,function(a){var c=checkResponseDataFormat(a);if(c){var d=JSON.parse(a);if(d.code==RESPONSE_SUCCESS){var e=d.data;b(e)}}},onErrorCallback,onTimeoutCallback)}function createFrameVerticalTabHostDiv(a,b,c,d){var e=document.createElement("div");e.id=a,e.style.width="100%",e.style.height="100%";for(var f=void 0==b?0:b.length,g=function(a){var f=b[a],g=document.createElement("div");g.style.width="100%",g.style.height="40px";var h=document.createElement("div");h.innerHTML=f.label,h.className="verticalNormal";var i=document.createElement("div");i.className="frameVTabNormalArrow",a==d&&(h.className="verticalSelected",i.className="frameVTabSelectedArrow",c(f)),h.onclick=function(){for(var b=e.childElementCount,d=0;d<b;d++)a==d?(e.childNodes[d].childNodes[0].className="verticalSelected",e.childNodes[d].childNodes[0].childNodes[1].className="frameVTabSelectedArrow"):(e.childNodes[d].childNodes[0].className="verticalNormal",e.childNodes[d].childNodes[0].childNodes[1].className="frameVTabNormalArrow");c(f)},h.appendChild(i),g.appendChild(h),e.appendChild(g)},h=0;h<f;h++)g(h);return e}function resetFrameVerticalTabHost(a){var b=document.getElementById(a);if(b)for(var c=b.childElementCount,d=0;d<c;d++)b.childNodes[d].childNodes[0].className="verticalNormal",b.childNodes[d].childNodes[0].childNodes[1].className="frameVTabNormalArrow"}function resetMainContainer(){document.getElementById(ID_MAIN_TITLE).innerHTML=null,document.getElementById(ID_MAIN_CONTAINER).innerHTML=null}function getTitleContainer(){return document.getElementById(ID_MAIN_TITLE)}function getMainContainer(){return document.getElementById(ID_MAIN_CONTAINER)}function requestMeta(){asyncRequestByGet(BASE_PATH+"/meta/units",function(a){var b=JSON.parse(a);UNITS=b.data},onErrorCallback,onTimeoutCallback)}function onFrameMenuItemClick(a){"manager"==a?(resetMainContainer(),loadManagerView()):"skin"==a?(resetMainContainer(),loadSkinView()):"poster"==a?(resetMainContainer(),loadPosterView()):"recommend"==a?(resetMainContainer(),loadRecommendView()):"link"==a?(resetMainContainer(),loadLinkView()):"product"==a?(resetMainContainer(),loadProductView()):"user"==a?(resetMainContainer(),loadUserView()):"order"==a?(resetMainContainer(),loadOrderView()):"sys_status"==a?resetMainContainer():"sys_log"==a?resetMainContainer():"sys_flow"==a?resetMainContainer():"sale_chart"==a?resetMainContainer():console.log("点击判断值超出范围")}function createSearchWidget(a,b){var c=document.createElement("div");c.className="searchWidgetContainer",c.style.width=a;var d=document.createElement("input");d.className="searchInput",d.style.width="89%",c.appendChild(d);var e=document.createElement("div");return e.className="actionButton",e.style.width="10%",e.innerHTML="搜索",e.onclick=function(){b(d.value)},c.appendChild(e),c}function setCookie(a,b,c){isNullValue(c)&&(c=30);var d=new Date;d.setDate(d.getDate()+c),document.cookie=a+"="+encodeURI(b)+(null==c?"":";expires="+d.toGMTString())}function getCookie(a){if(document.cookie.length>0){var b=document.cookie.indexOf(a+"=");if(b!=-1){b=b+a.length+1;var c=document.cookie.indexOf(";",b);return c==-1&&(c=document.cookie.length),decodeURI(document.cookie.substring(b,c))}}return""}function delCookie(a){var b=new Date;b.setTime(b.getTime()-1);var c=getCookie(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString())}function loadLinkView(){var a=document.createElement("div");a.innerHTML="链接管理",getTitleContainer().appendChild(a);var b=new Object,c=BASE_PATH+"/link/mRetrieves?p="+JSON.stringify(b);asyncRequestByGet(c,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);onRequestTopLinkCallback(c.data)}},onErrorCallback(),onTimeoutCallback())}function onRequestTopLinkCallback(a){for(var b=getMainContainer(),c=void 0==a?0:a.length,d=0;d<=c;d++){if(d%4==0){var e=document.createElement("div");e.className="clearFloat",b.appendChild(e)}var f=document.createElement("div");f.className="productItemContainer";var g=document.createElement("div");g.className="productItemSubContainer";var h=void 0;d<c&&(h=a[d],1==h.status&&(g.style.borderColor="#FF0000")),attachLinkGridViewToContainer(g,h),f.appendChild(g),b.appendChild(f)}}function initSubLinkView(a){var b=document.createElement("div");b.innerHTML="链接管理 >> "+a.label,b.style.cursor="pointer",b.onclick=function(){resetMainContainer(),loadLinkView()},getTitleContainer().appendChild(b),requestSubLink(a)}function requestSubLink(a){getMainContainer().innerHTML=null;var b=BASE_PATH+"/link/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);onRequestSubLinkCallback(a.linkId,d.data)}},onErrorCallback(),onTimeoutCallback())}function onRequestSubLinkCallback(a,b){for(var c=void 0==b?0:b.length,d=0;d<=c;d++)if(d<=c){var e=void 0;d<c&&(e=b[d]);var f=document.createElement("div");f.className="SS_IC",f.style.height="40px",f.style.width="100%",onAttachSubLinkEntityView(f,a,e,!1),getMainContainer().appendChild(f)}}function attachLinkGridViewToContainer(a,b){if(a.innerHTML=null,void 0!=b){var c=document.createElement("input");c.className="labelNameEditor",c.readOnly=!0,c.value=b.label,a.appendChild(c),c.onclick=function(){convertTopLinkContainerToEditor(a,b)}}else{var d=document.createElement("div");d.innerHTML="+",d.style.fontSize="150px",d.style.cursor="pointer",a.appendChild(d)}a.onclick=function(){void 0!=b?(resetMainContainer(),initSubLinkView(b)):convertTopLinkContainerToEditor(a,b)},a.style.cursor="pointer"}function convertTopLinkContainerToEditor(a,b){a.innerHTML=null,a.onclick=null,a.ondblclick=null,a.style.cursor="default";var c=document.createElement("input");c.className="labelNameEditor",c.style.cursor="text",a.appendChild(c);var d=document.createElement("div");if(d.className="actionBar",a.appendChild(d),void 0==b){c.placeholder="请输入链接分类",c.focus();var e=document.createElement("div");e.className="actionButton",e.style.width="48%",e.innerHTML="取消",d.appendChild(e);var f=document.createElement("div");f.className="actionButton",f.style.width="48%",f.innerHTML="保存",d.appendChild(f),e.onclick=function(){window.event.cancelBubble=!0,attachLinkGridViewToContainer(a,b)},f.onclick=function(){var a=c.value;if(void 0==a||null==a||""==a)(new Toast).show("名称不能为空");else{var b=new Object;b.sessionId="admin",b.label=a,requestCreateLink(b)}}}else{c.value=b.label,c.focus();var g=document.createElement("div");g.className="actionButton",g.innerHTML="返回",d.appendChild(g);var h=document.createElement("div");h.className="actionButton",h.innerHTML="保存",d.appendChild(h);var i=document.createElement("div");i.className="actionButton",1==b.status?i.innerHTML="启用":2==b.status&&(i.innerHTML="禁用"),d.appendChild(i);var j=document.createElement("div");j.className="actionButton",j.innerHTML="删除",d.appendChild(j),g.onclick=function(){window.event.cancelBubble=!0,attachLinkGridViewToContainer(a,b)},h.onclick=function(){var a=c.value;if(void 0==a||null==a||""==a)(new Toast).show("名称不能为空");else if(a==b.label)(new Toast).show("名称没有变化,无需更改");else{var d=new Object;d.sessionId="admin",d.linkId=b.linkId,d.pid=b.pid,d.label=a,requestUpdateLink(d)}},i.onclick=function(){window.event.cancelBubble=!0;var a=new Object;a.sessionId="admin",a.linkId=b.linkId,a.pid=b.pid,1==b.status?a.status=2:2==b.status&&(a.status=1),requestMarkLink(a,a)},j.onclick=function(){window.event.cancelBubble=!0;var a=new Object;a.sessionId="admin",a.linkId=b.linkId,a.pid=b.pid,a.status=-1,requestMarkLink(a,a)}}}function requestCreateLink(a){var b=BASE_PATH+"/link/mCreate?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);if(d.code==RESPONSE_SUCCESS)if((new Toast).show("创建成功"),d.data.linkId==d.data.pid)requestTopLink();else{var e=new Object;e.linkId=a.pid,e.pid=a.pid,requestSubLink(e)}else(new Toast).show("创建失败")}},onErrorCallback(),onTimeoutCallback())}function requestMarkLink(a){var b=BASE_PATH+"/link/mMark?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);if(d.code==RESPONSE_SUCCESS)if((new Toast).show("操作成功"),d.data.linkId==d.data.pid)requestTopLink();else{var e=new Object;e.linkId=a.pid,e.pid=a.pid,requestSubLink(e)}else(new Toast).show("操作失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdateLink(a){var b=BASE_PATH+"/link/mUpdate?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);if(d.code==RESPONSE_SUCCESS)if((new Toast).show("操作成功"),d.data.linkId==d.data.pid)requestTopLink();else{var e=new Object;e.linkId=a.pid,e.pid=a.pid,requestSubLink(e)}else(new Toast).show("操作失败")}},onErrorCallback(),onTimeoutCallback())}function requestSwapSubLinkWeight(a){var b=BASE_PATH+"/link/mSwap?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);if(d.code==RESPONSE_SUCCESS){(new Toast).show("操作成功");var e=new Object;e.linkId=a.pid,e.pid=a.pid,requestSubLink(e)}else(new Toast).show("操作失败")}},onErrorCallback(),onTimeoutCallback())}function onAttachSubLinkEntityView(a,b,c,d){if(a.innerHTML=null,void 0==c)if(d)!function(){var c=document.createElement("hr");c.className="SS_IC_HL",c.style.marginTop="20px",a.appendChild(c);var d=document.createElement("input");d.className="SS_IC_LABEL",d.style.width="78px",d.style.height="30px",d.style.marginTop="5px",d.style.borderLeftWidth="1px",a.appendChild(d),d.focus();var e=document.createElement("hr");e.className="SS_IC_HL",e.style.marginTop="20px",a.appendChild(e);var f=document.createElement("input");f.className="SS_IC_LABEL",f.style.height="30px",f.style.marginTop="5px",f.style.borderLeftWidth="1px",f.style.width="710px",a.appendChild(f);var g=document.createElement("hr");g.className="SS_IC_HL",g.style.marginTop="20px",a.appendChild(g);var h=document.createElement("div");h.className="B_B_D",h.style.marginTop="5px",h.style.height="33px",h.style.width="93px",h.style.marginLeft="0px",h.innerHTML="取消",a.appendChild(h),h.onclick=function(){onAttachSubLinkEntityView(a,b,void 0,!1)};var i=document.createElement("hr");i.className="SS_IC_HL",i.style.marginTop="20px",a.appendChild(i);var j=document.createElement("div");j.className="B_B_D",j.style.marginTop="5px",j.style.height="33px",j.style.width="92px",j.style.marginLeft="0px",j.innerHTML="保存",a.appendChild(j),j.onclick=function(){var a=d.value,c=f.value;if(""==a||void 0==a||null==a||""==c||void 0==c||null==c)(new Toast).show("名称和链接不能为空");else{var e=new Object;e.pid=b,e.label=a,e.href=c,requestCreateLink(e)}}}();else{var e=document.createElement("hr");e.className="SS_IC_HL",e.style.marginTop="20px",a.appendChild(e);var f=document.createElement("div");f.className="SS_IC_LABEL",f.style.borderLeftWidth="1px",f.innerHTML="+",f.style.width="97.6%",f.onclick=function(){onAttachSubLinkEntityView(a,b,void 0,!0)},a.appendChild(f)}else if(d)!function(){var d=document.createElement("hr");d.className="SS_IC_HL",d.style.marginTop="15px",a.appendChild(d);var e=document.createElement("input");e.className="SS_IC_LABEL",e.style.width="78px",e.style.height="30px",e.style.borderLeftWidth="1px",e.value=c.label,a.appendChild(e),e.focus();var f=document.createElement("hr");f.className="SS_IC_HL",f.style.marginTop="15px",a.appendChild(f);var g=document.createElement("input");g.className="SS_IC_LABEL",g.style.height="30px",g.style.borderLeftWidth="1px",g.style.width="710px",g.value=c.href,console.log(c.href),a.appendChild(g);var h=document.createElement("hr");h.className="SS_IC_HL",h.style.marginTop="15px",a.appendChild(h);var i=document.createElement("div");i.className="B_B_D",i.style.height="33px",i.style.width="93px",i.style.marginLeft="0px",i.innerHTML="取消",a.appendChild(i),i.onclick=function(){onAttachSubLinkEntityView(a,b,c,!1)};var j=document.createElement("hr");j.className="SS_IC_HL",j.style.marginTop="15px",a.appendChild(j);var k=document.createElement("div");k.className="B_B_D",k.style.height="33px",k.style.width="93px",k.style.marginLeft="0px",k.innerHTML="保存",a.appendChild(k),k.onclick=function(){var a=e.value,b=g.value;if(""==a||void 0==a||null==a||""==b||void 0==b||null==b)(new Toast).show("名称和链接不能为空");else{var d=new Object;d.pid=c.pid,d.linkId=c.linkId,d.label=a,d.href=b,requestUpdateLink(d)}}}();else{var g=document.createElement("div");g.className="SS_IC",g.style.height="32px",g.style.width="100%",g.style.borderWidth="0px";var h=document.createElement("hr");h.className="SS_IC_HL",g.appendChild(h);var i=document.createElement("div");i.className="SS_IC_LABEL",i.style.borderLeftWidth="1px",i.style.cursor="move",i.innerHTML=c.label,1==c.status&&(i.style.borderColor="red"),g.appendChild(i);var j=document.createElement("hr");j.className="SS_IC_HL",g.appendChild(j);var k=document.createElement("div");k.className="SS_IC_LABEL",k.style.borderLeftWidth="1px",k.style.width="67%",k.style.cursor="move",k.innerHTML=c.href,1==c.status&&(k.style.borderColor="red"),g.appendChild(k);var l=document.createElement("hr");l.className="SS_IC_HL",g.appendChild(l);var m=document.createElement("div");m.className="SS_IC_LABEL",m.style.borderLeftWidth="1px",m.style.width="5%",m.style.cursor="pointer",m.innerHTML="编辑",1==c.status&&(m.style.borderColor="red"),g.appendChild(m),m.onclick=function(){onAttachSubLinkEntityView(a,b,c,!0)};var n=document.createElement("hr");n.className="SS_IC_HL",g.appendChild(n);var o=document.createElement("div");o.className="SS_IC_LABEL",o.style.borderLeftWidth="1px",o.style.width="5%",o.style.cursor="pointer",1==c.status?(o.innerHTML="启用",o.style.borderColor="red"):2==c.status&&(o.innerHTML="禁用"),o.onclick=function(){var a=new Object;a.pid=c.pid,a.linkId=c.linkId,1==c.status?a.status=2:(c.status=2)&&(a.status=1),requestMarkLink(a)},g.appendChild(o);var p=document.createElement("hr");p.className="SS_IC_HL",g.appendChild(p);var q=document.createElement("div");q.className="SS_IC_LABEL",q.style.borderLeftWidth="1px",q.style.width="5%",q.style.cursor="pointer",q.innerHTML="删除",1==c.status&&(q.style.borderColor="red"),q.onclick=function(){var a=new Object;a.pid=c.pid,a.linkId=c.linkId,a.status=-1,requestMarkLink(a)},g.appendChild(q),g.id=c.linkId,g.pid=c.pid,g.weight=c.weight,g.draggable="true",g.style.cursor="move",g.addEventListener("dragstart",onLinkDragStart),g.addEventListener("dragover",onLinkDragOver),g.addEventListener("drop",onLinkDrop),g.addEventListener("dragend",onLinkDragEnd),a.appendChild(g)}}function onLinkDragStart(a){a.dataTransfer.setData("linkId",a.target.id),a.dataTransfer.setData("pid",a.target.pid),a.dataTransfer.setData("weight",a.target.weight)}function onLinkDragOver(a){a.preventDefault()}function onLinkDrop(a){a.preventDefault();var b=a.dataTransfer.getData("linkId"),c=a.dataTransfer.getData("pid"),d=a.dataTransfer.getData("weight"),e=""==a.target.id||void 0==a.target.id?a.target.parentNode.id:a.target.id,f=""==a.target.weight||void 0==a.target.weight?a.target.parentNode.weight:a.target.weight,g=document.getElementById(e),h=document.getElementById(b),i=g.innerHTML;g.innerHTML=h.innerHTML,h.innerHTML=i,a.dataTransfer.setData("sourceLinkId",b),a.dataTransfer.setData("sourceWeight",d),a.dataTransfer.setData("targetLinkId",e),a.dataTransfer.setData("targetWeight",f);var j=new Object;j.pid=c,j.linkId1=b,j.weight1=d,j.linkId2=e,j.weight2=f,console.log(j),requestSwapSubLinkWeight(j)}function onLinkDragEnd(a){a.dataTransfer.getData("sourceLinkId"),a.dataTransfer.getData("sourceWeight"),a.dataTransfer.getData("targetLinkId"),a.dataTransfer.getData("targetWeight");a.dataTransfer.clearData()}function loadManagerView(){var a=document.createElement("div");a.innerHTML="管理员列表",getTitleContainer().appendChild(a);var b=BASE_PATH+"/manager/MRetrieves";asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);if(c.code==RESPONSE_SUCCESS){var d=c.data;attachManagerToMainContainer(d)}}},onErrorCallback(),onTimeoutCallback())}function attachManagerToMainContainer(a){for(var b=void 0==a?0:a.length,c=function(b){var c=a[b],d=document.createElement("div");d.className="managerItem";var e=document.createElement("div");e.className="listItemLabel",e.style.width="9%",e.innerHTML=c.username;var f=document.createElement("div");f.className="listItemLabel",f.style.width="69%",f.innerHTML="空权限";for(var g=void 0==c.menus?0:c.menus.length,h="",i=0;i<g;i++)h=h+c.menus[i].label+" ";isNullValue(h)||(f.innerHTML=h);var j=document.createElement("div");j.className="listAction",j.innerHTML="禁用";var k=document.createElement("div");k.className="listAction",k.innerHTML="删除";var l=document.createElement("div");l.className="listAction",l.innerHTML="编辑",1==c.status?(e.className="listItemLabel listItemBlock",f.className="listItemLabel listItemBlock",j.innerHTML="启用"):j.innerHTML="禁用",d.appendChild(e),d.appendChild(f),d.appendChild(l),d.appendChild(k),d.appendChild(j),getMainContainer().appendChild(d),k.onclick=function(){var a=new Object;a.managerId=c.managerId,a.status=-1,requestMarkManager(a)},j.onclick=function(){var a=new Object;a.managerId=c.managerId,1==c.status?a.status=2:2==c.status&&(a.status=1),requestMarkManager(a)},l.onclick=function(){resetMainContainer(),loadManagerEditorView(c,FRAME_MENUS,!1)}},d=0;d<b;d++)c(d);var e=document.createElement("div");e.className="actionButton",e.style.width="100%",e.innerHTML="添加管理员",getMainContainer().appendChild(e),e.onclick=function(){resetMainContainer(),loadManagerEditorView(void 0,FRAME_MENUS,!1)}}function requestMarkManager(a){var b=BASE_PATH+"/manager/MMark?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS&&(resetMainContainer(),loadManagerView())}},onErrorCallback(),onTimeoutCallback())}function loadManagerEditorView(a,b,c){var d=document.createElement("div");isNullValue(a)?d.innerHTML="管理员编辑 >> 添加管理员":d.innerHTML="管理员编辑 >> "+a.username,d.style.cursor="pointer",getTitleContainer().appendChild(d),d.onclick=function(){resetMainContainer(),loadManagerView()},attachManagerEditorView(a,b,c)}function attachManagerEditorView(a,b,c){var d=document.createElement("div");d.className="managerItem textCenter editorManagerItem";var e=document.createElement("div");e.className="managerItem textCenter editorManagerItem";var f=document.createElement("div");f.className="managerItem textCenter editorManagerItem";var g=document.createElement("div");g.id="accessContainer",g.className="managerItem textCenter editorManagerItem";var h=document.createElement("div");h.className="managerItem textCenter editorManagerItem",getMainContainer().appendChild(d),getMainContainer().appendChild(e),getMainContainer().appendChild(f),c||getMainContainer().appendChild(g),getMainContainer().appendChild(h);var i=document.createElement("input");i.className="default",isNullValue(a)?i.placeholder="请输入登录名":(d.innerHTML="登录名: ",i.value=a.loginName),d.appendChild(i);var j=document.createElement("input");j.className="default",isNullValue(a)?j.placeholder="请输入用户名":(e.innerHTML="用户名: ",j.value=a.username),e.appendChild(j);var k=document.createElement("input");k.className="default",k.value=a.password,isNullValue(a)?(k.placeholder="请输入密码",k.style.marginRight="10px",f.appendChild(k)):convertMangerPasswordView(f,!1);var l=document.createElement("input");l.className="default",l.placeholder="请输入确认密码",l.style.marginLeft="10px",isNullValue(a)&&f.appendChild(l);for(var m=new Array,n=0;n<b.length;n++){var o=b[n],p=!1;if(!isNullValue(a))for(var q=void 0==a.menus?0:a.menus.length,r=0;r<q;r++){var s=a.menus[r];if(s.menuId==o.menuId){p=!0;break}}p||m.push(o)}attachMenuSelectorToAccessView(g,void 0==a?void 0:a.menus,m);var t=document.createElement("div");t.className="actionButton floatLeft",isNullValue(a)?t.innerHTML="取消":t.innerHTML="返回",t.style.marginLeft="39%",t.style.marginRight="1%",t.style.width="10%",h.appendChild(t);var u=document.createElement("div");u.className="actionButton floatLeft",isNullValue(a)?u.innerHTML="提交":u.innerHTML="保存",u.style.marginLeft="1%",u.style.width="10%",h.appendChild(u),t.onclick=function(){resetMainContainer(),loadManagerView()},u.onclick=function(){var b=i.value,c=j.value,d=k.value;if(isNullValue(b))return void(new Toast).show("请输入登录名");if(isNullValue(c))return void(new Toast).show("请输入用户名");if(isNullValue(d))return void(new Toast).show("请输入密码");var e=new Object;e.loginName=b,e.username=c,e.password=d;var f=document.getElementById("accessContainer");isNullValue(f)?(e.managerId=a.managerId,e.status=a.status,e.queue=a.queue,e.level=a.level,requestUpdateManager(e,!0)):(e.menus=void 0==f.menus?new Array:f.menus,isNullValue(a)?requestCreateManager(e):(e.managerId=a.managerId,e.status=a.status,e.queue=a.queue,e.level=a.level,requestUpdateManager(e,!1)))}}function convertMangerPasswordView(a,b){if(a.innerHTML=null,b){var c=document.createElement("input");c.className="default",c.style.marginLeft="5%",c.placeholder="请输入密码",c.style.marginRight="10px",a.appendChild(c);var d=document.createElement("input");d.className="default",d.placeholder="请输入确认密码",d.style.marginLeft="10px",a.appendChild(d);var e=document.createElement("input");e.type="button",e.style.width="5%",e.value="取消",a.appendChild(e),e.onclick=function(){convertMangerPasswordView(a,!1)}}else{a.innerHTML="登录密码: ";var f=document.createElement("input");f.className="default",f.value="******",f.readOnly="true",f.style.cursor="pointer",a.appendChild(f),f.onclick=function(){convertMangerPasswordView(a,!0)}}}function attachMenuSelectorToAccessView(a,b,c){a.innerHTML=null,a.menus=b,isNullValue(b)&&(b=new Array),isNullValue(c)&&(c=new Array);var d=b.length,e=c.length,f=d+e,g=d+(e>0?1:0),h=a.clientWidth/f-2,i=document.createElement("div");i.className="managerItem textCenter editorManagerItem",i.style.width=g*(h+2)+"px",a.appendChild(i);for(var j=function(e){var f=b[e],g=document.createElement("div");g.innerHTML=f.label,g.className="selectedMenu",g.style.width=h+"px";var j=document.createElement("div");j.innerHTML="X",j.className="selectedDel",g.appendChild(j),g.onmousemove=function(){j.style.visibility="visible",j.onclick=function(){var g=b.slice(0,e),h=b.slice(e+1,d);b=g.concat(h),c.push(f),attachMenuSelectorToAccessView(a,b,c)}},g.onmouseout=function(){j.style.visibility="hidden"},i.appendChild(g)},k=0;k<d;k++)j(k);if(!(e<1)){var l=document.createElement("select");l.className="selector",l.style.width=h+"px",l.options.add(new Option("请选择授权项","请选择授权项")),i.appendChild(l);for(var m=0;m<e;m++){var n=new Option(c[m].label,c[m].menuId);l.options.add(n)}l.onchange=function(){if(l.selectedIndex>0){var d=c[l.selectedIndex-1],f=c.slice(0,l.selectedIndex-1),g=c.slice(l.selectedIndex,e);c=f.concat(g),b.push(d),attachMenuSelectorToAccessView(a,b,c)}}}}function requestCreateManager(a){var b=BASE_PATH+"/manager/MCreate?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);if(c.code==RESPONSE_SUCCESS){var d=c.data;(new Toast).show("创建成功"),resetMainContainer(),loadManagerEditorView(d,FRAME_MENUS,!1)}else(new Toast).show("创建失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdateManager(a,b){var c=void 0;c=b?BASE_PATH+"/manager/mUpdate?p="+JSON.stringify(a):BASE_PATH+"/manager/MUpdate?p="+JSON.stringify(a),asyncRequestByGet(c,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);if(c.code==RESPONSE_SUCCESS){var d=c.data;(new Toast).show("更新成功"),resetMainContainer(),loadManagerEditorView(d,FRAME_MENUS,!1)}else(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function showMessageView(){resetView();var a=document.getElementById(MAIN_TITLE_ID),b=document.createElement("div");b.innerHTML="用户列表",b.className="horizontalSelected",b.style.width="100%",a.appendChild(b),requestMessage()}function requestMessage(){onRequestMessageDataCallback(null)}function onRequestMessageDataCallback(a){initMessageEntitiesContainerView()}function initMessageEntitiesContainerView(a){var b=document.getElementById(MAIN_CONTENT_ID),c=createSearchWidget(function(a){console.log(a)});b.appendChild(c);var d=document.createElement("div");d.className="SS_IC",d.style.width="100%",d.style.height="40px",d.appendChild(createPublishMessageView());for(var e=3,f=0;f<e;f++){var g=document.createElement("div");g.className="SS_IC",g.style.width="100%",g.style.height="40px",g.style.borderWidth="0px";var h=document.createElement("hr");h.className="SS_IC_HL",g.appendChild(h);var i=document.createElement("div");i.className="SS_IC_LABEL",i.style.borderWidth="1px",i.style.paddingLeft="10px",i.style.width="1033px",i.style.cursor="default",i.style.textAlign="left",i.innerHTML="2016-07-08 13:34:12 系统发布消息：春节到了，特惠大酬宾，敬请关注。<span style='color:red'>1234</span>人已读",g.appendChild(i),d.appendChild(g)}d.style.height=40*(e+1)+"px",b.appendChild(d)}function createPublishMessageView(){var a=document.createElement("div");a.className="SS_IC",a.style.width="100%",a.style.height="40px",a.style.borderWidth="0px";var b=document.createElement("hr");b.className="SS_IC_HL",a.appendChild(b);var c=document.createElement("div");return c.className="SS_IC",c.style.borderWidth="0px",c.style.width="1043px",createConvertView(c,!0,0),a.appendChild(c),a}function createConvertView(a,b,c){if(a.innerHTML=null,b){var d=document.createElement("div");d.className="SS_IC_LABEL",d.style.width=1043+c+"px",d.style.height="30px",d.style.lineHeight="30px",d.style.textAlign="center",d.style.borderWidth="1px",d.innerHTML="+",d.onclick=function(){createConvertView(a,!1,c)},a.appendChild(d)}else{var e=document.createElement("input");e.className="SS_IC_LABEL",e.style.width=899+c+"px",e.style.height="28px",e.style.lineHeight="28px",e.style.borderWidth="1px",a.appendChild(e),e.focus();var f=document.createElement("div");f.className="B_B_D",f.style.height="31px",f.style.lineHeight="30px",f.innerHTML="取消",f.onclick=function(){console.log("cancelView"),createConvertView(a,!0,c)},a.appendChild(f);var g=document.createElement("div");g.className="B_B_D",g.style.height="31px",g.style.lineHeight="30px",g.innerHTML="发布",g.onclick=function(){console.log("publishView"),createConvertView(a,!0,c)},a.appendChild(g)}}function loadOrderView(){getTitleContainer().appendChild(createHorizontalTabHostDiv("orderMenus",ORDER_TABS,"defaultTabSelected","defaultTabNormal",function(a){getMainContainer().innerHTML=null,0==a.index?onUnExpressTabCallback():1==a.index?onExpressingTabCallback():2==a.index?onExpressedTabCallback():3==a.index&&onAllTabCallback()},0))}function onUnExpressTabCallback(){var a=new Object;a.status=1;var b=BASE_PATH+"/order/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);createUnExpressView(c.data)}},onErrorCallback,onTimeoutCallback)}function onExpressingTabCallback(){var a=new Object;a.status=2;var b=BASE_PATH+"/order/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);createOrderExpressingView(c.data)}},onErrorCallback,onTimeoutCallback)}function onExpressedTabCallback(){var a=new Object;a.status=3;var b=BASE_PATH+"/order/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);createExpressedView(c.data)}},onErrorCallback,onTimeoutCallback)}function onAllTabCallback(){var a=new Object;a.status=0;var b=BASE_PATH+"/order/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);createAllView(c.data)}},onErrorCallback,onTimeoutCallback)}function createUnExpressView(a){var b=createUnExpressTitleContainer();getMainContainer().appendChild(b);for(var c=void 0==a?0:a.length,d=0;d<c;d++){var e=document.createElement("div");e.className="orderItemMainBlock",e.style.borderRightWidth="0px",attachUnExpressView(a[d],e,!1);var f=createOrderContainer(a[d],"40%","30%","29%",e);getMainContainer().appendChild(f)}}function createUnExpressTitleContainer(){var a=document.createElement("div");a.className="orderExpressTitle";var b=createSearchWidget("100%",function(a){console.log(a)});return b.style["float"]="left",a.appendChild(b),a}function attachUnExpressView(a,b,c){if(b.innerHTML=null,c)!function(){var c=document.createElement("select");c.className="SS_IC_LABEL",c.style.marginTop="5px",c.style.width="100%",c.style.textAlign="center",b.appendChild(c);var d=document.createElement("input");d.className="SS_IC_LABEL",d.style.marginTop="5px",d.style.width="99%",b.appendChild(d);var e=document.createElement("div");e.className="B_B_D",e.style.width="110px",e.style.marginTop="5px",e.innerHTML="取消发货",e.onclick=function(){attachUnExpressView(a,b,!1)},b.appendChild(e);var f=document.createElement("div");f.className="B_B_D",f.style.width="110px",f.style.marginTop="5px",f.innerHTML="确定发货",b.appendChild(f),f.onclick=function(){var b=new Object;b.orderId=a.orderId,b.expressLabel="顺丰快递",b.expressNumber=d.value,b.status=2,requestExpress(b)}}();else{var d=document.createElement("div");d.className="actionButton",d.style.width="90%",d.style.height="30%",d.style.marginTop="2px",d.innerHTML="去发货",d.onclick=function(){attachUnExpressView(a,b,!0)},b.appendChild(d)}}function createOrderExpressingView(a){for(var b=void 0==a?0:a.length,c=0;c<b;c++){var d=document.createElement("div");d.className="orderItemMainBlock",d.style.borderRightWidth="0px",attachExpressingStatusView(a[c],d,!1);var e=createOrderContainer(a[c],"40%","30%","29%",d);getMainContainer.appendChild(e)}}function attachExpressingStatusView(a,b){b.innerHTML=a.expressLabel+" "+a.expressNumber}function createExpressedView(a){for(var b=void 0==a?0:a.length,c=0;c<b;c++){var d=document.createElement("div");d.className="orderItemMainBlock",d.style.borderRightWidth="0px",attachExpressingStatusView(a[c],d,!1);var e=createOrderContainer(a[c],"40%","30%","29%",d);getMainContainer.appendChild(e)}}function createAllView(a){for(var b=void 0==a?0:a.length,c=0;c<b;c++){var d=a[c],e=document.createElement("div");e.className="orderItemMainBlock",e.style.borderRightWidth="0px",1==d.status||attachExpressingStatusView(a[c],e,!1);var f=createOrderContainer(a[c],"40%","30%","29%",e);getMainContainer().appendChild(f)}}function createOrderContainer(a,b,c,d,e){var f=document.createElement("div");f.className="orderItemContainer";var g=document.createElement("div");g.className="orderItemTitle",g.innerHTML=new Date(a.createTime).format("yyyy-MM-dd hh:mm")+"  订单号: "+a.orderId+"  收货人："+(void 0==a.senderName?a.receiverId:a.senderName)+"    电话：123 4567 78900",
f.appendChild(g);var h=document.createElement("div");h.className="orderItemMain";var i=document.createElement("div");i.className="orderItemMainBlock",i.style.width=b;for(var j=void 0==a?0:void 0==a.formatEntities?0:a.formatEntities.length,k=0;k<j;k++){var l=a.formatEntities[k],m=document.createElement("div");m.className="orderItemMainProductItem";var n=document.createElement("div");n.className="orderItemMainProductItemLabel",n.style.width="85%",n.innerHTML=l.parent.parent.label+" "+l.parent.label+" "+l.label+l.meta,m.appendChild(n);var o=document.createElement("div");o.className="orderItemMainProductItemLabel",o.style.width="15%",o.innerHTML="x 5",m.appendChild(o),i.appendChild(m)}h.style.height=31*j+"px",f.style.height=40+31*j+"px",h.appendChild(i);var p=document.createElement("div");return p.className="orderItemMainBlock",p.style.width=c,p.style.textAlign="center",p.innerHTML="北京 北京市 昌平区 回龙观 新龙城小区二期380号院 36A 8单元 9008",h.appendChild(p),void 0!=e&&(e.style.width=d,h.appendChild(e)),f.appendChild(h),f}function requestExpress(a){var b=BASE_PATH+"/order/mExpressing?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?(showOrderView(),(new Toast).show("发货成功")):(new Toast).show("发货失败")}},onErrorCallback,onTimeoutCallback)}function loadPosterView(){var a=document.createElement("div");a.innerHTML="海报管理",getTitleContainer().appendChild(a);var b=BASE_PATH+"/poster/mRetrieves";asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);initPosterView(c.data)}},onErrorCallback(),onTimeoutCallback())}function requestCreatePoster(a){var b=BASE_PATH+"/poster/mCreate?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?((new Toast).show("保存成功"),resetMainContainer(),loadPosterView()):(new Toast).show("保存失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdatePoster(a){var b=BASE_PATH+"/poster/mUpdate?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?((new Toast).show("保存成功"),resetMainContainer(),loadPosterView()):(new Toast).show("保存失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdatePosterStatus(a){var b=BASE_PATH+"/poster/mMark?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?((new Toast).show("保存成功"),resetMainContainer(),loadPosterView()):(new Toast).show("保存失败")}},onErrorCallback(),onTimeoutCallback())}function initPosterView(a){for(var b=getMainContainer(),c=void 0==a?0:a.length,d=0;d<c;d++){if(d%2==0){var e=document.createElement("div");e.className="clearFloat",b.appendChild(e)}createPosterItemWidget(b,a[d])}createAddNewPosterWidget(b,a)}function createPosterItemWidget(a,b){var c=document.createElement("div");c.className="posterItemContainer";var d=document.createElement("img");d.className="posterSnap",c.appendChild(d);var e=document.createElement("div");e.className="posterButtonContainer";var f=document.createElement("div");f.className="posterButton",2==b.status?f.innerHTML="禁止显示":1==b.status&&(f.innerHTML="启用显示"),f.onclick=function(){if(2==b.status){var a=new Object;a.posterId=b.posterId,a.status=1,requestUpdatePosterStatus(a)}else if(1==b.status){var c=new Object;c.posterId=b.posterId,c.status=2,requestUpdatePosterStatus(c)}},e.appendChild(f);var g=document.createElement("hr");g.className="posterButtonHL",e.appendChild(g);var h=document.createElement("div");h.className="posterButton",2==b.clickable?h.innerHTML="禁用点击":1==b.clickable&&(h.innerHTML="启用点击"),h.onclick=function(){var a=new Object;a.posterId=b.posterId,a.href=b.href,a.fileId=b.fileId,a.start=b.start,a.end=b.end,a.status=b.status,2==b.clickable?a.clickable=1:1==b.clickable&&(a.clickable=2),requestUpdatePoster(a)},e.appendChild(h);var i=document.createElement("hr");i.className="posterButtonHL",e.appendChild(i);var j=document.createElement("div");j.className="posterButton",j.innerHTML="删除",j.onclick=function(){var a=new Object;a.posterId=b.posterId,a.status=-1,requestUpdatePosterStatus(a)},e.appendChild(j);var k=document.createElement("hr");k.className="posterButtonHL",e.appendChild(k);var l=document.createElement("div");l.className="posterButton",l.innerHTML="编辑",l.onclick=function(){resetMainContainer(),loadPosterEditor(b,!1)},e.appendChild(l),c.appendChild(e),a.appendChild(c)}function createAddNewPosterWidget(a,b){var c=document.createElement("div");c.className="posterItemContainer",c.style.backgroundColor="#169BD5",c.style.color="#FFFFFF",c.style.fontSize="200px",c.style.height="323px",c.style.lineHeight="323px",c.style.cursor="pointer",c.innerHTML="+",c.onclick=function(){posterEditor(b,!0)},a.appendChild(c)}function loadPosterEditor(a,b){var c=document.createElement("div");c.innerHTML="海报编辑",c.style.cursor="pointer",getTitleContainer().appendChild(c),initPosterEditorView(a,b)}function createPoster(a,b,c,d){var e=BASE_PATH+"/poster/create?pid="+a+"&status="+b+"&clickable="+c+"&href="+d;asyncRequestByGet(e,function(a){onCreateDataCallback(a)},onErrorCallback(),onTimeoutCallback())}function onCreateDataCallback(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);200==c.code?((new Toast).show("保存成功"),resetMainContainer(),loadPosterView()):(new Toast).show("保存失败")}}function initPosterEditorView(a,b){var c=document.createElement("div");c.className="editorBlockView",c.style.height="440px",c.style.borderWidth="1px",c.style.cursor="pointer",getMainContainer().appendChild(c);var d=document.createElement("div");d.className="editorBlockView";var e=document.createElement("input");e.setAttribute("type","checkbox"),e.className="formatDisplayCheckBox",b||(1==a.status?e.checked=!1:2==a.status&&(e.checked=!0)),d.appendChild(e);var f=document.createElement("div");f.style["float"]="left",f.style.height="28px",f.style.lineHeight="28px",f.style.fontSize="14px",f.innerHTML="是否显示",d.appendChild(f),getMainContainer().appendChild(d);var g=document.createElement("div");g.className="editorBlockView";var h=document.createElement("input");h.setAttribute("type","checkbox"),h.className="formatDisplayCheckBox",b||(1==a.clickable?h.checked=!1:2==a.clickable&&(h.checked=!0)),g.appendChild(h);var i=document.createElement("div");i.style["float"]="left",i.style.height="28px",i.style.lineHeight="28px",i.style.fontSize="14px",i.innerHTML="是否可点击",g.appendChild(i),getMainContainer().appendChild(g);var j=document.createElement("div");j.style["float"]="left",j.style.height="28px",j.style.lineHeight="28px",j.style.fontSize="14px",j.style.marginLeft="20px",j.innerHTML="链接地址",g.appendChild(j);var k=document.createElement("input");k.className="SS_IC_LABEL",k.style.width="886px",k.style.height="28px",k.style.borderLeftWidth="1px",k.style.marginLeft="10px",b||(k.value=a.href),g.appendChild(k),getMainContainer().appendChild(g);var l=document.createElement("div");l.className="editorBlockView",l.style.marginTop="15px";var m=document.createElement("div");m.className="B_B_D",m.style.marginLeft="0px",m.style.width="532px",m.innerHTML="取消",m.onclick=function(){resetMainContainer(),loadPosterView()},l.appendChild(m);var n=document.createElement("hr");n.className="posterButtonHL",l.appendChild(n);var o=document.createElement("div");o.className="B_B_D",o.style.marginLeft="0px",o.style.width="532px",b?(o.innerHTML="提交",o.onclick=function(){var a=new Object;a.href=k.value,a.status=e.checked?2:1,a.clickable=h.checked?2:1,requestCreatePoster(a)}):(o.innerHTML="保存",o.onclick=function(){var b=new Object;b.posterId=a.posterId,b.href=k.value,b.fileId=a.fileId,b.status=e.checked?2:1,b.clickable=h.checked?2:1,console.log(b),requestUpdatePoster(b)}),l.appendChild(o),getMainContainer().appendChild(l)}function initProduct(){resetView(),initProductSeries(void 0)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function loadProductFormatView(a,b){var c=document.createElement("div");c.innerHTML="系列总览 >> "+a.label+" >> "+b.label,c.style.cursor="pointer",getTitleContainer().appendChild(c),c.onclick=function(){resetMainContainer(),loadProductTypeView(a)},createMixContainer(b),requestFormatListData(b)}function requestFormatListData(a){var b=BASE_PATH+"/format/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?onRequestFormatListDataCallback(a,d.data):(new Toast).show("请求数据失败")}},onErrorCallback(),onTimeoutCallback())}function onRequestFormatListDataCallback(a,b){var c=document.getElementById("formatContainer");c.innerHTML=null;var d=document.createElement("div");d.className="formatItemContainer",d.style.height="45px",d.style.marginTop="0px",c.appendChild(d);var e=document.createElement("div");e.className="formatItemContainer",c.appendChild(e);var f=document.createElement("div");f.className="formatItemContainer",c.appendChild(f);var g=document.createElement("div");g.className="formatItemContainer",c.appendChild(g);var h=document.createElement("div");h.className="formatItemContainer",c.appendChild(h);var i=document.createElement("div");i.className="formatItemContainer",i.style.height="96px",c.appendChild(i);var j=new Object;j.label="+",j.tag=APP_CONST_CLIENT_ID,b.push(j),d.appendChild(createHorizontalTabHostDiv("formatViewId",b,"defaultTabSelected","defaultTabNormal",function(b){null!=b&&b.tag==APP_CONST_CLIENT_ID&&(b=void 0),attachFormatBaseInfoContainer(e,a,b),attachFormatDiscountContainer(f,b),attachFormatPostageContainer(g,b),attachFormatGiftContainer(h,b),attachFormatFunctionContainer(i,a,b)},0))}function attachFormatBaseInfoContainer(a,b,c){a.innerHTML=null;var d=document.createElement("div");d.className="formatFunctionLeftContainer";var e=document.createElement("input");e.setAttribute("type","checkbox"),e.className="formatDisplayCheckBox",e.id="formatStatus",void 0==c?e.checked=!1:1==c.status?e.checked=!1:2==c.status&&(e.checked=!0),d.appendChild(e);var f=new FormatBaseViewInfo("规格","formatLabel",void 0==c?"":c.label,"formatLabelUnit",void 0==c?"":c.meta,(!0)),g=new FormatBaseViewInfo("数量","formatMount",void 0==c?"":c.amount,"formatMountUnit",void 0==c?"":c.amountMeta,(!0)),h=new FormatBaseViewInfo("定价","formatPrice",void 0==c?"":c.price,"formatPriceUnit",void 0==c?"":c.priceMeta,(!0)),i=new FormatBaseViewInfo("邮费","formatPostage",void 0==c?"":c.postage,"formatPostageUnit",void 0==c?"":c.postageMeta,(!0)),j=new Array;j.push(f),j.push(g),j.push(h),j.push(i);var k=new Array;k.push(void 0==c?void 0:c.meta),k.push(void 0==c?void 0:c.amountMeta),k.push(void 0==c?void 0:c.priceMeta),k.push(void 0==c?void 0:c.postageMeta);for(var l=0;l<4;l++)createInputSelectWidget(d,j[l],k[l]);a.appendChild(d);var m=document.createElement("div");if(m.className="formatFunctionRightContainer",!isNullValue(c)){var n=document.createElement("div");n.className="formatDeleteView",n.innerHTML="删除",m.appendChild(n),n.onclick=function(){var a=new Object;a.typeId=b.typeId,a.formatId=c.formatId,a.status=-1,requestMarkFormat(b,a)}}a.appendChild(m)}function attachFormatDiscountContainer(a,b){a.innerHTML=null;var c=document.createElement("input");c.setAttribute("type","checkbox"),c.className="formatDisplayCheckBox",c.id="formatPricingStatus",void 0==b?c.checked=!1:1==b.pricingStatus?c.checked=!1:2==b.pricingStatus&&(c.checked=!0),a.appendChild(c);var d=new FormatBaseViewInfo("折扣","formatPricingDiscount",void 0==b?"":b.pricingDiscount,"spaceholder",void 0==b?"":b.meta,(!1)),e=new FormatBaseViewInfo("现价","formatPricing",void 0==b?"":b.pricing,"spaceholder",void 0==b?"":b.meta,(!1)),f=new Array;f.push(d),f.push(e);for(var g=0;g<2;g++)createInputSelectWidget(a,f[g]);createFormatDatePickerWidget(a,"formatDiscountStartTime",void 0==b?void 0:b.pricingStart),createFormatDatePickerWidget(a,"formatDiscountEndTime",void 0==b?void 0:b.pricingEnd)}function attachFormatPostageContainer(a,b){a.innerHTML=null;var c=document.createElement("input");c.setAttribute("type","checkbox"),c.className="formatDisplayCheckBox",c.id="formatExpressStatus",void 0==b?c.checked=!1:1==b.expressStatus?c.checked=!1:2==b.expressStatus&&(c.checked=!0),a.appendChild(c);var d=new FormatBaseViewInfo("包邮","formatExpressCount",void 0==b?"":b.expressCount,"spaceholder",void 0==b?"":b.meta,(!1));createInputSelectWidget(a,d),createFormatSelectWidget(a,"formatExpress",EXPRESS,void 0==b?void 0:b.expressName,"请选择快递公司"),createFormatDatePickerWidget(a,"formatExpressStartTime",void 0==b?void 0:b.expressStart),createFormatDatePickerWidget(a,"formatExpressEndTime",void 0==b?void 0:b.expressEnd)}function attachFormatGiftContainer(a,b){a.innerHTML=null;var c=document.createElement("input");c.setAttribute("type","checkbox"),c.className="formatDisplayCheckBox",c.id="formatGiftStatus",void 0==b?c.checked=!1:1==b.giftStatus?c.checked=!1:2==b.giftStatus&&(c.checked=!0),a.appendChild(c);var d=new FormatBaseViewInfo("满赠","formatGiftCount",void 0==b?"":b.giftCount,"spaceholder",void 0==b?"":b.meta,(!1));createInputSelectWidget(a,d),createFormatSelectWidget(a,"formatGift",["giftProduct1","giftProduct2"],void 0==b?"":b.giftLabel,"请选择赠送产品"),createFormatDatePickerWidget(a,"formatGiftStartTime",void 0==b?void 0:b.giftStart),createFormatDatePickerWidget(a,"formatGiftEndTime",void 0==b?void 0:b.giftEnd)}function attachFormatFunctionContainer(a,b,c){a.innerHTML=null;var d=document.createElement("div");d.className="formatFunctionLeftContainer",a.appendChild(d);var e=document.createElement("div");e.className="formatFunctionRightContainer";var f=document.createElement("div");f.className="formatAction",f.innerHTML="保存",e.appendChild(f),a.appendChild(e),f.onclick=function(){saveFormat(b,c)}}function createInputSelectWidget(a,b,c){var d=document.createElement("div");d.innerHTML=b.title,d.className="formatLabel",d.style.marginLeft="5px",a.appendChild(d);var e=document.createElement("input");if(e.className="formatInput",e.value=b.label,e.id=b.labelId,a.appendChild(e),b.isSelector){var f=document.createElement("select");f.value=b.unit,f.id=b.unitId,f.className="formatSelect",void 0==c?f.options.add(new Option("单位","单位")):f.options.add(new Option(c,"current"));for(var g=0;g<UNITS.length;g++)f.options.add(new Option(UNITS[g].label,UNITS[g].unitId));a.appendChild(f)}}function createFormatSelectWidget(a,b,c,d,e){var f=document.createElement("select");if(f.id=b,f.className="formatSelect",f.style.width="200px",f.style.marginLeft="10px",void 0!=c){void 0==d?f.options.add(new Option(e,e)):f.options.add(new Option(d,"current"));for(var g=0;g<c.length;g++)f.options.add(new Option(c[g],c[g]))}a.appendChild(f)}function createFormatDatePickerWidget(a,b,c){var d=document.createElement("input");d.type="text",void 0==c?d.value="请选择时间":d.value=new Date(c).format("yyyy-MM-dd"),d.readOnly=!0,d.className="formatInput",d.style.width="200px",d.style.marginLeft="10px",d.id=b,a.appendChild(d),new Pikaday({field:d,firstDay:1,minDate:new Date("2015-01-01"),maxDate:new Date("2020-12-31"),yearRange:[2015,2020]})}function saveFormat(a,b){var c=document.getElementById("formatStatus"),d=document.getElementById("formatLabel"),e=document.getElementById("formatLabelUnit"),f=document.getElementById("formatMount"),g=document.getElementById("formatMountUnit"),h=document.getElementById("formatPrice"),i=document.getElementById("formatPriceUnit"),j=document.getElementById("formatPostage"),k=document.getElementById("formatPostageUnit"),l=document.getElementById("formatPricingStatus"),m=document.getElementById("formatPricingDiscount"),n=document.getElementById("formatPricing"),o=document.getElementById("formatDiscountStartTime"),p=document.getElementById("formatDiscountEndTime"),q=document.getElementById("formatExpressStatus"),r=document.getElementById("formatExpressCount"),s=document.getElementById("formatExpress"),t=document.getElementById("formatExpressStartTime"),u=document.getElementById("formatExpressEndTime"),v=document.getElementById("formatGiftStatus"),w=document.getElementById("formatGiftCount"),x=document.getElementById("formatGift"),y=document.getElementById("formatGiftStartTime"),z=document.getElementById("formatGiftEndTime"),A=new Object;A.typeId=a.typeId,A.status=1==c.checked?2:1,A.label=d.value,A.meta=e.options[e.selectedIndex].text,A.amount=f.value,A.amountMeta=g.options[g.selectedIndex].text,A.price=h.value,A.priceMeta=i.options[i.selectedIndex].text,A.postage=j.value,A.postageMeta=k.options[k.selectedIndex].text,A.pricingStatus=1==l.checked?2:1,A.pricingDiscount=m.value,A.pricing=n.value,A.pricingStart=new Date(o.value).getTime(),A.pricingEnd=new Date(p.value).getTime(),A.expressStatus=1==q.checked?1:0,A.expressCount=r.value,A.expressName=s.options[s.selectedIndex].text,A.expressStart=new Date(t.value).getTime(),A.expressEnd=new Date(u.value).getTime(),A.giftStatus=1==v.checked?1:0,A.giftCount=w.value,A.giftLabel=x.options[x.selectedIndex].text,A.giftStart=new Date(y.value).getTime(),A.giftEnd=new Date(z.value).getTime(),void 0==b||void 0==b.formatId||null==b.formatId||b.formatId==APP_CONST_CLIENT_ID?requestCreateFormat(a,A):(A.formatId=b.formatId,requestUpdateFormat(a,A))}function requestCreateFormat(a,b){var c=BASE_PATH+"/format/mCreate?p="+JSON.stringify(b);asyncRequestByGet(c,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?((new Toast).show("保存成功"),requestFormatListData(a)):(new Toast).show("保存失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdateFormat(a,b){var c=BASE_PATH+"/format/mUpdate?p="+JSON.stringify(b);asyncRequestByGet(c,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?((new Toast).show("保存成功"),requestFormatListData(a)):(new Toast).show("保存失败")}},onErrorCallback(),onTimeoutCallback())}function requestMarkFormat(a,b){var c=BASE_PATH+"/format/mMark?p="+JSON.stringify(b);asyncRequestByGet(c,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?((new Toast).show("保存成功"),requestFormatListData(a)):(new Toast).show("保存失败")}},onErrorCallback(),onTimeoutCallback())}function loadProductView(a){var b=document.createElement("div");b.innerHTML="系列总览",getTitleContainer().appendChild(b),requestSeriesListData(a)}function requestSeriesListData(a){getMainContainer().innerHTML=null;var b=new Object;b.sessionId="admin";var c=BASE_PATH+"/series/mRetrieves?p="+JSON.stringify(b);asyncRequestByGet(c,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?onRequestSeriesListDataCallback(c.data):(new Toast).show("请求数据失败")}},onErrorCallback(),onTimeoutCallback())}function onRequestSeriesListDataCallback(a){var b=getMainContainer(),c=document.createElement("div");c.className="productItemContainer";var d=document.createElement("div");d.className="productItemSubContainer",addNewSeriesToContainer(d),c.appendChild(d),b.appendChild(c);for(var e=void 0==a?0:a.length,f=0;f<e;f++){if(f+1==0){var g=document.createElement("div");g.className="clearFloat",b.appendChild(g)}b.appendChild(createSeriesContainer(a[f]))}}function addNewSeriesToContainer(a){a.innerHTML=null;var b=document.createElement("div");b.innerHTML="+",b.style.fontSize="150px",b.style.cursor="pointer",a.appendChild(b),b.onclick=function(){convertSeriesContainerToEditor(a,void 0)}}function createSeriesContainer(a){var b=document.createElement("div");b.className="productItemContainer";var c=document.createElement("div");return c.className="productItemSubContainer",1==a.status&&(c.style.borderColor="#FF0000"),addSeriesToContainer(c,a),b.appendChild(c),b}function addSeriesToContainer(a,b){a.innerHTML=null,a.style.cursor="pointer";var c=document.createElement("input");c.className="labelNameEditor",c.readOnly=!0,c.value=b.label,a.appendChild(c),c.onclick=function(){convertSeriesContainerToEditor(a,b)},a.onclick=function(){resetMainContainer(),loadProductTypeView(b)}}function convertSeriesContainerToEditor(a,b){a.innerHTML=null,a.onclick=null,a.ondblclick=null,a.style.cursor="default";var c=document.createElement("input");c.className="labelNameEditor",c.style.cursor="text",a.appendChild(c);var d=document.createElement("div");if(d.className="actionBar",a.appendChild(d),void 0==b){c.placeholder="请输入产品系列名称",c.focus();var e=document.createElement("div");e.className="actionButton",e.style.width="48%",e.innerHTML="取消",d.appendChild(e);var f=document.createElement("div");f.className="actionButton",f.style.width="48%",f.innerHTML="保存",d.appendChild(f),e.onclick=function(){window.event.cancelBubble=!0,addNewSeriesToContainer(a)},f.onclick=function(){window.event.cancelBubble=!0;var a=c.value;if(void 0==a||null==a||""==a)(new Toast).show("系列名称不能为空");else{var b=new Object;b.sessionId="admin",b.label=a,requestCreateSeries(b)}}}else{c.value=b.label,c.focus();var g=document.createElement("div");g.className="actionButton",g.innerHTML="返回",d.appendChild(g);var h=document.createElement("div");h.className="actionButton",h.innerHTML="保存",d.appendChild(h);var i=document.createElement("div");i.className="actionButton",1==b.status?i.innerHTML="启用":2==b.status&&(i.innerHTML="禁用"),d.appendChild(i);var j=document.createElement("div");j.className="actionButton",j.innerHTML="删除",d.appendChild(j),g.onclick=function(){window.event.cancelBubble=!0,addSeriesToContainer(a,b)},h.onclick=function(){window.event.cancelBubble=!0;var a=c.value;if(void 0==a||null==a||""==a)(new Toast).show("系列名称不能为空");else if(a==b.label)(new Toast).show("系列名称没有变化,无需更改");else{var d=new Object;d.sessionId="admin",d.seriesId=b.seriesId,d.label=a,requestRenameSeries(d)}},i.onclick=function(){window.event.cancelBubble=!0;var a=new Object;a.sessionId="admin",a.seriesId=b.seriesId,1==b.status?a.status=2:2==b.status&&(a.status=1),requestMarkSeries(a)},j.onclick=function(){window.event.cancelBubble=!0;var a=new Object;a.sessionId="admin",a.seriesId=b.seriesId,a.status=-1,requestMarkSeries(a)}}}function requestCreateSeries(a){var b=BASE_PATH+"/series/mCreate?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?((new Toast).show("创建成功"),requestSeriesListData(void 0)):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function requestRenameSeries(a){var b=BASE_PATH+"/series/mUpdate?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?((new Toast).show("更新成功"),requestSeriesListData(void 0)):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function requestMarkSeries(a){var b=BASE_PATH+"/series/mMark?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?((new Toast).show("操作成功"),requestSeriesListData(void 0)):(new Toast).show("操作失败")}},onErrorCallback(),onTimeoutCallback())}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function loadProductTypeView(a){var b=document.createElement("div");b.innerHTML="系列总览 >> "+a.label,b.style.cursor="pointer",getTitleContainer().appendChild(b),b.onclick=function(){resetMainContainer(),loadProductView()},requestTypeListData(a)}function requestTypeListData(a){getMainContainer().innerHTML=null;var b=BASE_PATH+"/type/mRetrieves?p="+JSON.stringify(a);asyncRequestByGet(b,function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?onRequestTypeListDataCallback(a,d.data):(new Toast).show("请求数据失败")}},onErrorCallback(),onTimeoutCallback())}function onRequestTypeListDataCallback(a,b){var c=document.createElement("div");c.className="productItemContainer";var d=document.createElement("div");d.className="productItemSubContainer",addNewTypeToContainer(d,a),c.appendChild(d),getMainContainer().appendChild(c);for(var e=void 0==b?0:b.length,f=0;f<e;f++){if(f+1==0){var g=document.createElement("div");g.className="clearFloat",getMainContainer().appendChild(g)}getMainContainer().appendChild(createTypeContainer(a,b[f]))}}function addNewTypeToContainer(a,b){a.innerHTML=null;var c=document.createElement("div");c.innerHTML="+",c.style.fontSize="150px",c.style.cursor="pointer",a.appendChild(c),c.onclick=function(){convertTypeContainerToEditor(a,b,void 0)}}function createTypeContainer(a,b){var c=document.createElement("div");c.className="productItemContainer";var d=document.createElement("div");return d.className="productItemSubContainer",1==b.status&&(d.style.borderColor="#FF0000"),addTypeToContainer(d,a,b),c.appendChild(d),c}function addTypeToContainer(a,b,c){a.innerHTML=null,a.style.cursor="pointer";var d=document.createElement("input");d.className="labelNameEditor",d.readOnly=!0,d.value=c.label,a.appendChild(d),d.onclick=function(){convertTypeContainerToEditor(a,b,c)},a.onclick=function(){resetMainContainer(),loadProductFormatView(b,c)}}function convertTypeContainerToEditor(a,b,c){a.innerHTML=null,a.onclick=null,a.ondblclick=null,a.style.cursor="default";var d=document.createElement("input");d.className="labelNameEditor",d.style.cursor="text",a.appendChild(d);var e=document.createElement("div");if(e.className="actionBar",a.appendChild(e),void 0==c){d.placeholder="请输入产品类型名称",d.focus();var f=document.createElement("div");f.className="actionButton",f.style.width="48%",f.innerHTML="取消",e.appendChild(f);var g=document.createElement("div");g.className="actionButton",g.style.width="48%",g.innerHTML="保存",e.appendChild(g),f.onclick=function(){addNewTypeToContainer(a,b)},g.onclick=function(){var a=d.value;if(void 0==a||null==a||""==a)(new Toast).show("类型名称不能为空");else{var c=new Object;c.sessionId="admin",c.seriesId=b.seriesId,c.label=a,requestCreateType(b,c)}}}else{d.value=c.label,d.focus();var h=document.createElement("div");h.className="actionButton",h.innerHTML="返回",e.appendChild(h);var i=document.createElement("div");i.className="actionButton",i.innerHTML="保存",e.appendChild(i);var j=document.createElement("div");j.className="actionButton",1==c.status?j.innerHTML="启用":2==c.status&&(j.innerHTML="禁用"),e.appendChild(j);var k=document.createElement("div");k.className="actionButton",k.innerHTML="删除",e.appendChild(k),h.onclick=function(d){d.cancelBubble=!0,addTypeToContainer(a,b,c)},i.onclick=function(){var a=new Object;a.sessionId="admin",a.seriesId=b.seriesId,a.typeId=c.typeId,a.label=d.value,requestRenameType(b,a)},j.onclick=function(){var a=new Object;a.sessionId="admin",a.seriesId=b.seriesId,a.typeId=c.typeId,1==c.status?a.status=2:2==c.status&&(a.status=1),requestMarkType(b,a)},k.onclick=function(){var a=new Object;a.sessionId="admin",a.seriesId=b.seriesId,a.typeId=c.typeId,a.status=-1,requestMarkType(b,a)}}}function createMixContainer(a){getMainContainer().appendChild(createTopContainer(a)),getMainContainer().appendChild(createBottomContainer(a))}function createTopContainer(a){var b=document.createElement("div");return b.className="fillWidthContainer",b.appendChild(createTopLeftContainer(a)),b.appendChild(createTopRightContainer(a)),b}function createTopLeftContainer(a){var b=document.createElement("div");b.className="typeTopLeftContainer";var c=document.createElement("canvas");c.className="imageCuter",b.appendChild(c);var d=document.createElement("div");d.className="imageCuterSubmit",d.innerHTML="保存修改",b.appendChild(d);var e=document.createElement("div");e.className="fillWidthContainer",e.style.height="105px";var f=document.createElement("button");f.className="fileInput",f.innerHTML="添加图片";var g=document.createElement("button");g.className="fileInput",g.innerHTML="添加图片";var h=document.createElement("button");return h.className="fileInput",h.style.width="34%",h.innerHTML="添加图片",e.appendChild(f),e.appendChild(g),e.appendChild(h),b.appendChild(e),b}function createTopRightContainer(a){var b=document.createElement("div");return b.className="typeTopRightContainer",b.appendChild(createTypeSummaryContainer(a)),b.appendChild(createFormatContainer(a)),b}function createTypeSummaryContainer(a){var b=document.createElement("div");b.className="typeSummaryContainer";var c=document.createElement("textarea");c.id="typeSummary",c.value=void 0==a.summary?"":a.summary,c.className="typeSummary",b.appendChild(c);var d=document.createElement("div");return d.className="typeSummarySave",d.innerHTML="保存",d.onclick=function(){var b=new Object;b.sessionId="admin",b.typeId=a.typeId,b.summary=c.value,requestUpdateSummary(b)},b.appendChild(d),b}function createFormatContainer(){var a=document.createElement("div");return a.className="formatContainer",a.id="formatContainer",a}function createBottomContainer(a){var b=document.createElement("div");b.className="fillWidthContainer";var c=document.createElement("div"),d=new HyperEditorTool("H1","formatblock","H1","button"),e=new HyperEditorTool("H2","formatblock","H2","button"),f=new HyperEditorTool("H3","formatblock","H3","button"),g=new HyperEditorTool("H4","formatblock","H4","button"),h=new HyperEditorTool("H5","formatblock","H5","button"),i=new HyperEditorTool("H6","formatblock","H6","button"),j=new HyperEditorTool("居左","justifyleft",null,"button"),k=new HyperEditorTool("居中","justifycenter",null,"button"),l=new HyperEditorTool("居右","justifyright",null,"button"),m=new HyperEditorTool("左缩进","outdent",null,"button"),n=new HyperEditorTool("右缩进","indent",null,"button"),o=new HyperEditorTool("有序列","insertorderedlist",null,"button"),p=new HyperEditorTool("无序列","insertunorderedlist",null,"button"),q=new HyperEditorTool("链接","createlink",null,"button"),r=new HyperEditorTool("图片",null,null,"button"),s=new HyperEditorTool("图片","formatblock",null,"file"),t=new Array;t.push(d),t.push(e),t.push(f),t.push(g),t.push(h),t.push(i),t.push(j),t.push(k),t.push(l),t.push(m),t.push(n),t.push(o),t.push(p),t.push(q),t.push(r),t.push(s);for(var u=0;u<t.length;u++)createHyperToolWidget(c,t[u]);var v=document.createElement("div");v.className="hyperEditor",v.id="hyperEditor",v.contentEditable=!0,v.innerHTML=void 0==a.directions?"":a.directions,b.appendChild(c),b.appendChild(v);var w=document.createElement("div");return w.className="submitContainer",w.innerHTML="保存",w.onclick=function(){var b=new Object;b.sessionId="admin",b.typeId=a.typeId,b.directions=v.innerHTML,requestUpdateDirections(b)},b.appendChild(w),b}function createHyperToolWidget(a,b){var c=document.createElement("input");c.type=b.viewType,c.className="hyperEditorToolButton","file"==c.type?(c.accept="image/*",c.onchange=function(){var a=window.URL.createObjectURL(c.files.item(0));document.execCommand("insertImage",!1,a),document.getElementById("hyperEditor").focus()}):(c.value=b.label,c.onclick=format,c.cmd=b.invoke,c.param=b.param),a.appendChild(c)}function format(){if("createlink"==this.cmd){var a=prompt("请输入网络地址","http://");a&&""!=a&&"http://"!=a&&document.execCommand(this.cmd,!1,a)}else document.execCommand(this.cmd,!1,this.param),document.getElementById("hyperEditor").focus()}function requestCreateType(a,b){asyncRequestByGet(BASE_PATH+"/type/mCreate?p="+JSON.stringify(b),function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?((new Toast).show("更新成功"),requestTypeListData(a)):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function requestRenameType(a,b){console.log(b),asyncRequestByGet(BASE_PATH+"/type/mUpdate?p="+JSON.stringify(b),function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?((new Toast).show("更新成功"),requestTypeListData(a)):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function requestMarkType(a,b){asyncRequestByGet(BASE_PATH+"/type/mMark?p="+JSON.stringify(b),function(b){var c=checkResponseDataFormat(b);if(c){var d=JSON.parse(b);d.code==RESPONSE_SUCCESS?((new Toast).show("更新成功"),requestTypeListData(a)):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdateSummary(a){asyncRequestByGet(BASE_PATH+"/type/mSummary?p="+JSON.stringify(a),function(a){
var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?(new Toast).show("更新成功"):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function requestUpdateDirections(a){asyncRequestByGet(BASE_PATH+"/type/mDirections?p="+JSON.stringify(a),function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?(new Toast).show("更新成功"):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function CircleProgress(a){this.progress=document.getElementById(a),this.context=this.progress.getContext("2d"),this.centerX=this.progress.width/2,this.centerY=this.progress.height/2,this.radius=Math.min(this.progress.width,this.progress.height)/3,this.context.translate(this.centerX,this.centerY)}function getArcLocation(a,b){var c=a*Math.cos(b),d=a*Math.sin(b);return new Array(c,d)}function showLoadingView(){var a=document.createElement("div");a.id="mask",a.style.position="absolute",a.style.top=getScrollTop()+"px",a.style.backgroundColor="#CCCCCC",a.style.width="100%",a.style.height="100%",a.style.left="0px",a.style.zIndex="10",a.style.opacity="0.6",document.body.appendChild(a);var b=document.createElement("canvas");b.id="canvas",b.style.position="absolute",b.style.top=getScrollTop()+100+"px",b.style.backgroundColor="#00FF0000",b.style.left=document.body.clientWidth/2-200+"px",b.style.width="400px",b.style.height="200px",b.style.zIndex="10",b.style.opacity="0.9",document.body.appendChild(b),document.documentElement.style.overflow="hidden";var c=new CircleProgress("canvas");c.rotate(30),document.oncontextmenu=new Function("event.returnValue=false;"),document.onselectstart=new Function("event.returnValue=false;"),window.onhelp=new Function("event.returnValue=false;"),document.onkeydown=function(){window.event&&13==window.event.keyCode&&(window.event.returnValue=!1)}}function dismissLoadingView(){document.onkeydown=null,document.documentElement.style.overflow="scroll",clearInterval(CircleProgress.prototype.task),document.oncontextmenu=new Function("event.returnValue=true;"),document.onselectstart=new Function("event.returnValue=true;"),document.body.removeChild(document.getElementById("mask")),document.body.removeChild(document.getElementById("canvas")),document.body.removeChild(document.getElementById("button"))}function getScrollTop(){var a;return window.pageYOffset?a=window.pageYOffset:document.compatMode&&"BackCompat"!=document.compatMode?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop),a}function loadRecommendView(){var a=document.createElement("div");a.innerHTML="推荐管理",getTitleContainer().appendChild(a);var b=BASE_PATH+"/format/mWeights";asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?initRecommendView(c.data):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function swapRecommend(a){var b=BASE_PATH+"/format/mSwapWeight?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?(new Toast).show("更新成功"):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function updateRecommend(a,b){var c=BASE_PATH+"/product/updateWeight?formatId="+a+"&weight="+b;asyncRequestByGet(c,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);200==c.code?(new Toast).show("更新成功"):(new Toast).show("更新失败")}},onErrorCallback(),onTimeoutCallback())}function initRecommendView(a){for(var b=getMainContainer(),c=void 0==a?0:a.length,d=function(c){var d=a[c],e=document.createElement("div");e.className="SS_IC",e.style.height="40px",e.style.width="100%";var f=document.createElement("div");f.className="SS_IC",f.style.height="32px",f.style.width="100%",f.style.borderWidth="0px";var g=document.createElement("hr");g.className="SS_IC_HL",f.appendChild(g);var h=document.createElement("div");h.className="SS_IC_LABEL",h.style.borderLeftWidth="1px",h.innerHTML=d.parent.parent.label,f.appendChild(h);var i=document.createElement("hr");i.className="SS_IC_HL",f.appendChild(i);var j=document.createElement("div");j.className="SS_IC_LABEL",j.style.borderLeftWidth="1px",j.innerHTML=d.parent.label,f.appendChild(j);var k=document.createElement("hr");k.className="SS_IC_HL",f.appendChild(k);var l=document.createElement("div");if(l.className="SS_IC_LABEL",l.style.borderLeftWidth="1px",l.style.width="70%",l.innerHTML=d.label+" "+d.meta,f.appendChild(l),c>8){h.style.cursor="default",j.style.cursor="default",l.style.cursor="default";var m=document.createElement("hr");m.className="SS_IC_HL",f.appendChild(m);var n=document.createElement("div");n.className="SS_IC_LABEL",n.style.borderLeftWidth="1px",n.style.width="50px",n.innerHTML="↓↑ ",n.formatId=d.formatId,n.weight=d.weight,n.onclick=function(){updateRecommend(d.formatId,0)},f.appendChild(n)}else f.id=d.formatId,f.weight=d.weight,f.draggable="true",f.style.cursor="move",f.addEventListener("dragstart",onDragStart),f.addEventListener("dragover",onDragOver),f.addEventListener("drop",onDrop),f.addEventListener("dragend",onDragEnd),h.style.cursor="move",j.style.cursor="move",l.style.cursor="move";e.appendChild(f),b.appendChild(e)},e=0;e<c;e++)d(e)}function onDragStart(a){a.dataTransfer.setData("formatId",a.target.id),a.dataTransfer.setData("weight",a.target.weight)}function onDragOver(a){a.preventDefault()}function onDrop(a){a.preventDefault();var b=a.dataTransfer.getData("formatId"),c=a.dataTransfer.getData("weight"),d=""==a.target.id||void 0==a.target.id?a.target.parentNode.id:a.target.id,e=""==a.target.weight||void 0==a.target.weight?a.target.parentNode.weight:a.target.weight,f=document.getElementById(d),g=document.getElementById(b),h=f.innerHTML;f.innerHTML=g.innerHTML,g.innerHTML=h,a.dataTransfer.setData("sourceFormatId",b),a.dataTransfer.setData("sourceWeight",c),a.dataTransfer.setData("targetFormatId",d),a.dataTransfer.setData("targetWeight",e);var i=new Object;i.formatId1=b,i.weight1=c,i.formatId2=d,i.weight2=e,swapRecommend(i)}function onDragEnd(a){a.dataTransfer.getData("sourceFormatId"),a.dataTransfer.getData("sourceWeight"),a.dataTransfer.getData("targetFormatId"),a.dataTransfer.getData("targetWeight");a.dataTransfer.clearData()}function loadSkinView(){var a=document.createElement("div");a.innerHTML="皮肤设置",getTitleContainer().appendChild(a);var b=new Array;b.push("简单 洁净 明亮"),b.push("传统 稳重 古典"),b.push("轻快 时尚 进步"),b.push("沉稳 肃穆 安静");for(var c=0;c<b.length;c++)getMainContainer().appendChild(createItemWidget(b[c]))}function createItemWidget(a){var b=document.createElement("div");b.className="SS_IC",b.style.borderWidth="1px",b.style.width="100%",b.style.height="300px",b.style.marginBottom="20px";var c=document.createElement("div");c.className="SS_IC",c.style.width="133px",c.style.height="100%",c.style.lineHeight="300px",c.style.textAlign="center",c.style.borderWidth="0px",c.innerHTML=a;var d=document.createElement("div");d.className="SS_IC",d.style.width="310px",d.style.height="100%";var e=document.createElement("div");e.className="SS_IC",e.style.width="310px",e.style.height="100%";var f=document.createElement("div");return f.className="SS_IC",f.style.width="310px",f.style.height="100%",b.appendChild(c),b.appendChild(d),b.appendChild(e),b.appendChild(f),b}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function TabItem(a,b,c,d,e,f,g,h,i,j,k){this.id=a,this.displayName=b,this.method=c,this.normalClassName=d,this.selectedClassName=e,this.currentClassName=f,this.verticalNormalArrowClassName=g,this.verticalSelectedArrowClassName=h,this.verticalCurrentArrowClassName=i,this.width=j,this.height=k}function addExclusiveId(a){null!==a&&void 0!==a&&""!==a&&exclusiveIds.indexOf(a)<0&&exclusiveIds.push(a)}function initHorizontalTabHostView(a,b,c,d,e){var f=parseInt(a.clientWidth),g=parseInt(a.clientHeight),h=b.length,i=(f-3*(h-1))/h;null!=c&&(i=c);for(var j=0;j<h;j++){var k=b[j];k.width=i,k.height=g,createTabItem(a,k,!1,e)}d&&addExclusiveId(a.id)}function initVerticalTabHostView(a,b,c){for(var d=parseInt(a.clientWidth),e=parseInt(a.clientHeight),f=b.length,g=e/f,h=0;h<f;h++){var i=b[h];i.width=d,i.height=g,createTabItem(a,i,!0)}c&&addExclusiveId(a.id)}function createTabItem(a,b,c,d){var e=document.createElement("div");if(e.innerHTML=b.displayName,e.style.width=b.width+"px",e.className=b.currentClassName,e.normalClassName=b.normalClassName,e.selectedClassName=b.selectedClassName,e.method=b.method,e.dataId=b.id,void 0==d||e.method!=APP_CONST_ADD_NEW&&e.id!=APP_CONST_ADD_NEW?e.addEventListener("click",onTabItemClick):e.addEventListener("click",d),c){var f=document.createElement("div");f.className=b.verticalCurrentArrowClassName,f.normalClassName=b.verticalNormalArrowClassName,f.selectedClassName=b.verticalSelectedArrowClassName,e.appendChild(f)}a.appendChild(e)}function resetTabHost(a){for(var b=a.childElementCount,c=0;c<b;c++)a.childNodes[c].className=a.childNodes[c].normalClassName,a.childNodes[c].childNodes.length>1&&(a.childNodes[c].childNodes[1].className=a.childNodes[c].childNodes[1].normalClassName,a.childNodes[1].className=a.childNodes[1].normalClassName)}function onTabItemClick(){for(var a=this.parentNode.childElementCount,b=0;b<a;b++)this.parentNode.childNodes[b].className=this.normalClassName,this.childNodes.length>1&&(this.parentNode.childNodes[b].childNodes[1].className=this.parentNode.childNodes[b].childNodes[1].normalClassName,this.childNodes[1].className=this.childNodes[1].normalClassName);if(this.className=this.selectedClassName,this.childNodes.length>1&&(this.childNodes[1].className=this.childNodes[1].selectedClassName),exclusiveIds.indexOf(this.parentNode.id)>=0)for(var b=0;b<exclusiveIds.length;b++)this.parentNode.id!==exclusiveIds[b]&&resetTabHost(document.getElementById(exclusiveIds[b]));onFrameMenuItemClick(this.method),new Toast(TOAST_CONTAINER_ID,null,null,200,30).show(this.childNodes[0].data)}function createHorizontalTabHostDiv(a,b,c,d,e,f){return createTabHostDiv(a,b,c,d,e,f,!0)}function createVerticalTabHostDiv(a,b,c,d,e,f){return createTabHostDiv(a,b,c,d,e,f,!1)}function createTabHostDiv(a,b,c,d,e,f,g){var h=document.createElement("div");h.id=a,h.style.width="100%",h.style.height="100%";var i=void 0==b?0:b.length,j=100,k=100;i>0&&g&&(j=100/i),i>0&&!g&&(k=100/i);for(var l=function(a){var i=b[a],l=document.createElement("div");l.style.width=j+"%",l.style.height=k+"%",g&&(l.style["float"]="left");var m=document.createElement("div");m.innerHTML=i.label,m.className=d,a==f&&(m.className=c,e(i)),m.onclick=function(){for(var b=h.childElementCount,f=0;f<b;f++)a==f?h.childNodes[f].childNodes[0].className=c:h.childNodes[f].childNodes[0].className=d;e(i)},l.appendChild(m),h.appendChild(l)},m=0;m<i;m++)l(m);return h}function resetTabHost(a,b){var c=document.getElementById(a);if(c)for(var d=c.childElementCount,e=0;e<d;e++)c.childNodes[e].childNodes[0].className=b}function Toast(a,b,c,d,e,f){void 0!=a&&""!=a&&null!=a||(a="body"),0!=d&&void 0!=d&&""!=d&&null!=d||(d=200),0!=e&&void 0!=e&&""!=e&&null!=e||(e=30),this.view=document.getElementById(a),this.startX=b,this.startY=c,this.width=d,this.height=e,this.className=f,this.opacity=1,this.step=.01,this.duration=10}function dismiss(){document.body.removeChild(document.getElementById("toastView"))}function loadUserView(){var a=document.createElement("div");a.innerHTML="用户列表",getTitleContainer().appendChild(a);var b=document.createElement("div");b.className="listItem listItemWidthBottom";var c=createSearchWidget("100%",function(a){console.log(a)});b.appendChild(c),getMainContainer().appendChild(b);var d=document.createElement("div");d.className="managerItem",getMainContainer().appendChild(d);var e=BASE_PATH+"/account/mRetrieves";asyncRequestByGet(e,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?attachUsersToMainContainer(d,c.data):(new Toast).show("请求失败")}},onErrorCallback(),onTimeoutCallback())}function attachUsersToMainContainer(a,b){for(var c=void 0==b?0:b.length,d=function(c){var d=b[c],e=document.createElement("div");e.className="managerItem";var f=document.createElement("div");f.className="listItemLabel listItemNormal",f.innerHTML="电话账号未绑定";var g=document.createElement("div");g.className="listItemLabel listItemNormal",g.innerHTML="微信账号未绑定";var h=document.createElement("div");h.className="listItemLabel listItemNormal",h.innerHTML="QQ账号未绑定";var i=document.createElement("div");i.className="listAction",i.innerHTML="禁用";var j=document.createElement("div");j.className="listAction",j.innerHTML="详情",e.appendChild(f),e.appendChild(g),e.appendChild(h),e.appendChild(j),e.appendChild(i),a.appendChild(e);for(var k=d.children,l=0;l<k.length;l++){var m=d.children[l],n=void 0==m.nickName?m.identity:m.nickName;1==m.source?(f.className="listItemLabel listItemActive",f.innerHTML=n):2==m.source?(g.className="listItemLabel listItemActive",g.innerHTML=n):3==m.source&&(h.className="listItemLabel listItemActive",h.innerHTML=n)}1==d.status?(f.className="listItemLabel listItemBlock",g.className="listItemLabel listItemBlock",h.className="listItemLabel listItemBlock",i.innerHTML="启用"):i.innerHTML="禁用",i.onclick=function(){var a=new Object;a.userId=d.userId,1==d.status?a.status=2:2==d.status&&(a.status=1),requestUpdateStatus(a)},j.onclick=function(){resetMainContainer(),loadUserDetailView(d)}},e=0;e<c;e++)d(e)}function requestUpdateStatus(a){var b=BASE_PATH+"/account/mMark?p="+JSON.stringify(a);asyncRequestByGet(b,function(a){var b=checkResponseDataFormat(a);if(b){var c=JSON.parse(a);c.code==RESPONSE_SUCCESS?(resetMainContainer(),loadUserView()):(new Toast).show("请求失败")}},onErrorCallback(),onTimeoutCallback())}function loadUserDetailView(a){var b=document.createElement("div"),c=a.children[0],d=void 0==c.nickName?c.identity:c.nickName;b.innerHTML="用户列表 >> "+d,b.className="defaultTabNormal",getTitleContainer().appendChild(b),b.onclick=function(){resetMainContainer(),loadUserView()};var e=document.createElement("div"),f=document.createElement("div");e.appendChild(createHorizontalTabHostDiv("userTabHost",USER_TABS,"defaultTabSelected","defaultTabNormal",function(b){var c=new Object,d=new Object;c.userId=a.userId,d.userId=a.userId,c.user=d,f.innerHTML=null,0==b.index?onUserCartTabCallback(c,f):1==b.index?onUserOrderTabCallback(c,f):2==b.index?onUserAccountTabCallback(c,f):3==b.index&&onUserRequestReceiverCallback(c,f)},0)),getMainContainer().appendChild(e),f.style.width="100%",f.style.height="400px",f.style.marginTop="45px",getMainContainer().appendChild(f)}function onUserCartTabCallback(a,b){var c=BASE_PATH+"/cart/mRetrieve?p="+JSON.stringify(a);asyncRequestByGet(c,function(a){var c=checkResponseDataFormat(a);if(c){var d=JSON.parse(a);attachCartViewToUserDetailMainContainer(b,d.data)}},onErrorCallback,onTimeoutCallback)}function onUserOrderTabCallback(a,b){var c=BASE_PATH+"/order/mRetrievesByUser?p="+JSON.stringify(a);asyncRequestByGet(c,function(a){var c=checkResponseDataFormat(a);if(c){var d=JSON.parse(a);attachOrderViewToUserDetailMainContainer(b,d.data)}},onErrorCallback,onTimeoutCallback)}function onUserAccountTabCallback(a,b){attachAccountViewToUserDetailMainContainer(b)}function onUserRequestReceiverCallback(a,b){var c=BASE_PATH+"/receiver/mRetrieveByUser?p="+JSON.stringify(a);asyncRequestByGet(c,function(a){var c=checkResponseDataFormat(a);if(c){var d=JSON.parse(a);attachReceiverViewToUserDetailMainContainer(b,d.data)}},onErrorCallback,onTimeoutCallback)}function attachOrderViewToUserDetailMainContainer(a,b){for(var c=void 0==b?0:b.length,d=0;d<c;d++){var e=b[d],f=document.createElement("div");f.className="SS_IC",f.style.width="1065px",f.style.height="150px",f.style.borderWidth="1px",d>0&&(f.style.borderTopWidth="0px");var g=document.createElement("div");g.className="SS_IC",g.style.width="1055px",g.style.height="40px",g.style.borderWidth="0px",g.style.borderBottomWidth="1px",g.style.backgroundColor="#F2F2F2",g.style.lineHeight="40px",g.style.paddingLeft="10px",g.innerHTML=new Date(e.createTime).format("yyyy-MM-dd hh:mm")+"  订单号: "+e.orderId,f.appendChild(g);var h=document.createElement("div");h.className="SS_IC",h.style.width="1066px",h.style.height="110px",h.style.borderWidth="0px";var i=document.createElement("div");i.className="SS_IC",i.style.width="550px",i.style.height="100%",i.style.borderWidth="0px";for(var j=e.formatEntities,k=void 0==j?0:j.length,l=0;l<k;l++){var m=j[l],n=document.createElement("div");n.className="SS_IC",n.style.width="550px",n.style.height="30px",n.style.borderWidth="0px",0!=l&&(n.style.borderTopWidth="1px");var o=document.createElement("div");o.className="SS_IC",o.style.width="490px",o.style.height="30px",o.style.marginLeft="10px",o.style.borderWidth="0px",o.style.lineHeight="30px",o.innerHTML=m.parent.parent.label+" "+m.parent.label+" "+m.label+m.meta,n.appendChild(o);var p=document.createElement("div");p.className="SS_IC",p.style.width="50px",p.style.height="30px",p.style.borderWidth="0px",p.style.lineHeight="30px",p.innerHTML="x 5",n.appendChild(p),i.appendChild(n)}h.style.height=31*k+"px",f.style.height=40+31*k+"px",h.appendChild(i);var q=document.createElement("div");q.className="SS_IC",q.style.width="213px",q.style.height="100%",q.style.textAlign="center",q.innerHTML="收货人",h.appendChild(q);var r=document.createElement("div");r.className="SS_IC",r.style.width="150px",r.style.height="100%",r.style.textAlign="center",r.innerHTML="总额:8888",h.appendChild(r);var s=document.createElement("div");s.className="SS_IC",s.style.width="150px",s.style.height="100%",s.style.textAlign="center",1==e.status?s.innerHTML="已付款,待发货":2==e.status?s.innerHTML="已发货,待收货":3==e.status?s.innerHTML="已收货,已完成":s.innerHTML="未知状态",h.appendChild(s),f.appendChild(h),a.appendChild(f)}}function attachCartViewToUserDetailMainContainer(a,b){for(var c=void 0==b?0:b.length,d=0;d<c;d++){var e=b[d],f=document.createElement("div");f.className="SS_IC",f.style.width="1065px",f.style.height="30px",f.style.borderWidth="1px",d>0&&(f.style.borderTopWidth="0px");var g=document.createElement("div");g.className="SS_IC",g.style.width="150px",g.style.height="100%",g.style.borderWidth="0px",g.style.textAlign="center",g.innerHTML="2016-08-08 12:34",f.appendChild(g);var h=document.createElement("div");h.className="SS_IC",h.style.width="600px",h.style.height="100%",h.style.paddingLeft="10px",h.innerHTML=" "+e.formatEntity.parent.parent.label+" "+e.formatEntity.parent.label+" "+e.formatEntity.label+e.formatEntity.meta,f.appendChild(h);var i=document.createElement("div");i.className="SS_IC",i.style.width="100px",i.style.height="100%",i.style.textAlign="center",i.innerHTML=e.formatEntity.pricing+e.formatEntity.priceMeta,f.appendChild(i);var j=document.createElement("div");j.className="SS_IC",j.style.width="100px",j.style.height="100%",j.style.textAlign="center",j.innerHTML="数量:"+e.amount,f.appendChild(j);var k=document.createElement("div");k.className="SS_IC",k.style.width="100px",k.style.height="100%",k.style.textAlign="center",k.innerHTML=e.amount*e.formatEntity.pricing+e.formatEntity.priceMeta,f.appendChild(k),a.appendChild(f)}}function attachAccountViewToUserDetailMainContainer(a){a.appendChild(createPhoneAccountContainer()),a.appendChild(createAuthAccountContainer(0,"微信账号","","http://localhost:8080/foodslab/webapp/asserts/images/login_wx.png")),a.appendChild(createAuthAccountContainer(1,"QQ账号",void 0,"http://localhost:8080/foodslab/webapp/asserts/images/login_qq.png"))}function createPhoneAccountContainer(a){var b=document.createElement("div");b.className="accountItemContainer";var c=document.createElement("div");c.className="accountItem",c.innerHTML="电话账号",c.style.height="40px",c.style.lineHeight="40px",c.style.textAlign="center",b.appendChild(c);var d=document.createElement("div");d.className="accountItem";var e=document.createElement("div");e.className="labelLeft",e.innerHTML="账号:",d.appendChild(e);var f=document.createElement("div");f.className="labelRight",f.style.borderWidth="0px",f.innerHTML="暂无",d.appendChild(f),b.appendChild(d);var g=document.createElement("div");g.className="accountItem";var h=document.createElement("div");h.className="labelLeft",h.innerHTML="昵称:",g.appendChild(h);var i=document.createElement("div");i.className="labelRight",i.style.borderWidth="0px",i.innerHTML="暂无",g.appendChild(i),b.appendChild(g);var j=document.createElement("div");j.className="accountItem";var k=document.createElement("div");k.className="labelLeft",k.innerHTML="性别:",j.appendChild(k);var l=document.createElement("div");l.className="labelRight",l.innerHTML="暂无",l.style.borderWidth="0px",j.appendChild(l),b.appendChild(j);var m=document.createElement("div");m.className="accountItem",m.style.height="120px";var n=document.createElement("div");n.className="labelLeft",n.innerHTML="头像:",m.appendChild(n);var o=document.createElement("img");o.className="headerImage",m.appendChild(o),b.appendChild(m);var p=document.createElement("div");p.className="accountItem";var q=document.createElement("div");q.className="labelLeft",q.innerHTML="地址:",p.appendChild(q);var r=document.createElement("div");return r.className="labelRight",r.innerHTML="暂无",r.style.borderWidth="0px",p.appendChild(r),b.appendChild(p),b}function createAuthAccountContainer(a,b,c,d){var e=document.createElement("div");e.className="accountItemContainer",0==a&&(e.style.marginLeft="5px",e.style.marginRight="5px");var f=document.createElement("div");if(f.className="accountItem",f.style.height="40px",f.style.lineHeight="40px",f.style.textAlign="center",e.appendChild(f),void 0==c){f.innerHTML="扫码绑定"+b;var g=document.createElement("img");g.className="scanner",g.src=d,e.appendChild(g)}else{f.innerHTML=b;var h=document.createElement("div");h.className="accountItem";var i=document.createElement("div");i.className="labelLeft",i.innerHTML="昵称:",h.appendChild(i);var j=document.createElement("div");j.className="labelRight",j.innerHTML="微信绑定账号",j.style.borderWidth="0px",h.appendChild(j),e.appendChild(h);var k=document.createElement("div");k.className="accountItem";var l=document.createElement("div");l.className="labelLeft",l.innerHTML="性别:",k.appendChild(l);var m=document.createElement("div");m.className="labelRight",m.innerHTML="男",m.style.borderWidth="0px",k.appendChild(m),e.appendChild(k);var n=document.createElement("div");n.className="accountItem",n.style.height="120px";var o=document.createElement("div");o.className="labelLeft",o.innerHTML="头像:",n.appendChild(o);var p=document.createElement("img");p.className="headerImage",p.src="http://localhost:8080/foodslab/webapp/asserts/images/paywei.png",n.appendChild(p),e.appendChild(n);var q=document.createElement("div");q.className="accountItem";var r=document.createElement("div");r.className="labelLeft",r.innerHTML="地址:",q.appendChild(r);var s=document.createElement("div");s.className="labelRight",s.style.borderWidth="0px",s.innerHTML="北京市 昌平区",q.appendChild(s),e.appendChild(q)}return e}function attachReceiverViewToUserDetailMainContainer(a,b){for(var c=void 0==b?0:b.length,d=0;d<c;d++){var e=b[d],f=document.createElement("div");f.className="receiverItemContainer";var g=document.createElement("hr");g.className="connectLineH",f.appendChild(g);var h=document.createElement("div");h.className="receiverLabel",h.style.width="151px",h.innerHTML=e.name,f.appendChild(h);var i=document.createElement("hr");i.className="connectLineH",f.appendChild(i);var j=document.createElement("div");j.className="receiverLabel",j.style.width="780px",j.style.textAlign="left",j.style.paddingLeft="10px",j.style.paddingRight="10px",j.innerHTML=e.province+" "+e.city+" "+e.county+" "+e.town+" "+e.village+" "+(void 0==e.append?"":e.append)+" "+e.phone0,1==e.status&&(h.style.borderColor="red",j.style.borderColor="red",j.style.width="784px"),f.appendChild(j),a.appendChild(f)}}Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};var BASE_PATH="http://localhost:8080/foodslab",ID_TOAST_CONTAINER="body",ID_FRAME_HEADER_ICON="headerIcon",ID_FRAME_HEADER_MANAGER="manager",ID_FRAME_HEADER_EXIT="exit",ID_FRAME_HEADER_MENU="headerMenu",ID_FRAME_LEFT_MENU="leftMenu",ID_MAIN_TITLE="mainTitle",ID_MAIN_CONTAINER="mainContainer",KEY_CS="cs",RESPONSE_SUCCESS=3050,APP_CONST_CLIENT_ID="clientId",APP_CONST_ADD_NEW="addNew",FRAME_MENUS=new Array,UNITS=void 0,EXPRESS=["顺丰快递","圆通快递","中通快递","邮政快递"],ORDER_TABS=new Array,ORDER_tab0=new Object;ORDER_tab0.index=0,ORDER_tab0.label="未发货";var ORDER_tab1=new Object;ORDER_tab1.index=1,ORDER_tab1.label="已发货";var ORDER_tab2=new Object;ORDER_tab2.index=2,ORDER_tab2.label="已完成";var ORDER_tab3=new Object;ORDER_tab3.index=3,ORDER_tab3.label="全部",ORDER_TABS.push(ORDER_tab0),ORDER_TABS.push(ORDER_tab1),ORDER_TABS.push(ORDER_tab2),ORDER_TABS.push(ORDER_tab3);var FormatBaseViewInfo=function a(b,c,d,e,f,g){_classCallCheck(this,a),this.title=b,this.labelId=c,this.label=d,this.unitId=e,this.unitLabel=f,this.isSelector=g},HyperEditorTool=function b(a,c,d,e){_classCallCheck(this,b),this.label=a,this.invoke=c,this.param=d,this.viewType=e};CircleProgress.prototype.drawCircleProgress=function(){this.context.clearRect(0-this.centerX,0-this.centerY,2*this.centerX,2*this.centerY);for(var a=15,b=0,c=a,d=0;d<15;d++){var e=Math.acos((2*Math.pow(this.radius,2)-Math.pow(a+c,2)-5)/(2*Math.pow(this.radius,2)))*(180/Math.PI),f=getArcLocation(this.radius,-(e+b)*Math.PI/180);this.context.fillStyle="#FFFFFF",this.context.beginPath(),this.context.arc(f[0],f[1],c,0*Math.PI,2*Math.PI,!0),this.context.closePath(),this.context.fill(),a=c,c--,b+=e}},CircleProgress.prototype.rotate=function(a){this.drawCircleProgress();var b=this;CircleProgress.prototype.task=setInterval(function(){b.context.rotate(10*Math.PI/180),b.drawCircleProgress()},a)};var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Tab=function(){function a(b,c,d,e){_classCallCheck(this,a),this.id=b,this.label=c,this.className=d,this.callback=e}return _createClass(a,[{key:"onTabClick",value:function(a){this.callback(a)}}]),a}(),exclusiveIds=new Array;Toast.prototype.show=function(a){var b=this.view.offsetLeft+this.view.clientWidth/4,c=this.view.offsetTop,d=this.view.clientWidth/2,e=this.view.clientHeight/2,f=document.createElement("div");f.id="toastView",f.style.styleFloat="left",f.style.position="fixed",f.style.zIndex="10",isNullValue(this.startX)||(b=this.startX),isNullValue(this.startY)||(c=this.startY),isNullValue(this.width)||(d=this.width,isNullValue(this.startX)&&(b=this.view.clientWidth/2-d/2)),isNullValue(this.height)||(e=this.height),isNullValue(this.className)?(f.style.left=b+"px",f.style.top=c+"px",f.style.width=d+"px",f.style.height=e+"px",f.style.lineHeight=e+"px",f.style.textAlign="center",f.style.color="#FFFFFF",f.style.backgroundColor="#CCCCCC",f.style.opacity=this.opacity,f.style.borderRight="1px solid #999999",f.style.borderBottom="1px solid #999999",f.style.borderLeft="1px solid #999999",f.style.borderBottomRightRadius="5px",f.style.borderBottomLeftRadius="5px"):f.className=this.className,isNullValue(a)?f.innerHTML="you can set message here":f.innerHTML=a,document.body.appendChild(f);var g=this.opacity,h=this.step,i=setTimeout(function(){var a=setInterval(function(){g<0?(clearInterval(a),dismiss()):f.style.opacity=g,g-=h},this.duration);clearTimeout(i)},1e3)};var USER_TABS=new Array,USER_tab0=new Object;USER_tab0.index=0,USER_tab0.label="购物车";var USER_tab1=new Object;USER_tab1.index=1,USER_tab1.label="订单";var USER_tab2=new Object;USER_tab2.index=2,USER_tab2.label="账户";var USER_tab3=new Object;USER_tab3.index=3,USER_tab3.label="收货地址",USER_TABS.push(USER_tab0),USER_TABS.push(USER_tab1),USER_TABS.push(USER_tab2),USER_TABS.push(USER_tab3);